======================================================================
AUTOMATED FEEDBACK LOG
======================================================================

HOW TO READ THIS FEEDBACK:
--------------------------
1. This log contains detailed feedback on your code execution
2. Each script is tested and results are shown with output and errors
3. IMPORTANT: Read all the way to the END for a summary and debugging guidance
4. The summary at the end will help you understand and fix any issues
5. Scripts are run in a headless environment (no GUI applications)

======================================================================

Starting testing for Mikael Minten

Processing all weeks found in repository

Your current Git repo size is about 1.49 MiB on disk

Found directories: .git, week1, week4, week2, Feedback, week3
Found files: .pre-commit-config.yaml, .gitignore, README.md

Processing all weeks: week1, week4, week2, week3

Found 53 code files to test.

Note: Expected file checking not performed (no FileList provided).
Expected file checking will only be performed during final assessment.

======================================================================
Script: count_lines.sh

Contents:

**********
#!/bin/bash
# Author: Mikael Minten mikael.minten25@imprial.ac.uk
# Desc: script to count the number of lines in a file
# Argument: 1 -> Input file
# Date: Oct 2025

if [ $# -eq 0 ]; then
    echo "Please provide a file"
    exit 1
fi


NumLine=`wc -l < $1`
echo "the file $1 has $NumLine lines"
echo



**********

Output (first 500 chars):

**********
Please provide a file

**********
No errors.
======================================================================
Script: concatenate_two_files.sh

Contents:

**********
#!/bin/bash
# Author: Mikael Minten mikael.minten25@imprial.ac.uk
# Desc: script to concatenate two files into one
# Argument: 1 -> First input file, 2 -> Second input file, 3 -> Output file name (will be saved in results directory)
# Saves the output into the results directory
# Date: Oct 2025

if [ $# -ne 3 ]; then
    echo "Please provide two input files and one output file"
    exit 1
fi

# Check if first input file exists
if [ ! -f "$1" ]; then
    echo "Error: File '$1' does not exist"
    exit 1
fi

# Check if second input file exists
if [ ! -f "$2" ]; then
    echo "Error: File '$2' does not exist"
    exit 1
fi

cat $1 > "../results/$(basename "$3")"
cat $2 >> "../results/$(basename "$3")"
echo "Files $(basename "$1") and $(basename "$2") have been concatenated into $(basename "$3") in the results directory"
cat ../results/$3
**********

Output (first 500 chars):

**********
Please provide two input files and one output file

**********
No errors.
======================================================================
Script: csv_to_space.sh

Contents:

**********
#!/bin/sh
# Author: Mikael Ridza Minten mikael.minten25@imperial.ac.uk
# Script: csvtospace
# Description: substitute the comma in the files with spaces
# Saves the output into a .txt file
# Arguments: 1 -> csv file
# Date: Oct 2019

if [ $# -eq 0 ]; then
    echo "Please provide a file"
    exit 1
fi

if ! grep -q $',' $1; then
    echo "This file has no commas"
    exit 1
fi 

echo "Creating a space separated version of $1 ..."
cat "$1" | tr -s "," " " >> "../results/$(basename "$1" .csv).txt"
echo "Done!"
exit

**********

Output (first 500 chars):

**********
Please provide a file

**********
No errors.
======================================================================
Script: boilerplate.sh

Contents:

**********
#!/bin/sh
# Author: Mikael Minten mikael.minten25@imprial.ac.uk
# Desc: simple boilerplate for shell scripts
# Argument: none
# Date: Sep 2025

echo -e "\nThis is a shell script! \n"

#exit
**********

Output (first 500 chars):

**********

This is a shell script! 


**********
No errors.
======================================================================
Script: tiff_to_png.sh

Contents:

**********
#!/bin/bash
# Author: Mikael Minten mikael.minten25@imprial.ac.uk
# Script: tiff to png
# Desc: Tiff to png coversion script
# Argument: 1 -> Directory containing .tif files
# Saves the output as a .png file in the results directory
# Date: Oct 2025

if ! command -v convert &> /dev/null; then
    echo "ImageMagick is not installed. Please install it first."
    exit 1
fi


if [ $# -eq 0 ]; then
    echo "Please provide a directory"
    exit 1
fi


if ! ls "$1"/*.tif 1> /dev/null 2>&1; then
    echo "Please provide a directory with .tif files"
    exit 1
fi


for f in "$1"/*.tif; 
    do  
        echo "Converting $f"; 
        convert "$f"  "../results/$(basename "$f" .tif).png"; 
    done
**********

Output (first 500 chars):

**********
Please provide a directory

**********
No errors.
======================================================================
Script: compile_latex.sh

Contents:

**********
#!/bin/bash


# Check if argument provided
if [ -z "$1" ]; then
    echo "Error: No filename provided"
    exit 1
fi

# Remove .tex extension if present
filename=$(basename "$1" .tex)

# check if file exist
if [ ! -f "$filename.tex" ]; then
    echo "Error: $filename.tex not found"
    exit 1
fi

# Compile in current directory but move PDF to results
pdflatex $filename.tex
bibtex $filename
pdflatex $filename.tex
pdflatex $filename.tex

# Move PDF to results directory
mv $filename.pdf ../results/

# Open PDF from results directory
evince ../results/$filename.pdf &

## Cleanup
rm *.aux
rm *.log
rm *.bbl
rm *.blg
**********

Output (first 500 chars):

**********
Error: No filename provided

**********
No errors.
======================================================================
Script: tab_to_csv.sh

Contents:

**********
#!/bin/sh
# Author: Mikael Ridza Minten mikael.minten25@imperial.ac.uk
# Script: tabtocsv
# Description: substitute the tab in the files with commas
# Saves the output into a .csv file
# Arguments: 1 -> tab file
# Date: Oct 2019

if [ $# -eq 0 ]; then
    echo "Please provide a file"
    exit 1
fi

if [ ! -f "$1" ]; then
    echo "Error: File '$1' does not exist"
    exit 1
fi

if ! grep -q $'\t' $1; then
    echo "This file has no tabs"
    exit 1
fi 

echo "Creating a tab separated version of $1 ..."
cat $1 | tr -s "\t" "," >> "../results/$(basename "$1" .txt).csv"
echo "Done!"
exit

**********

Output (first 500 chars):

**********
Please provide a file

**********
No errors.
======================================================================
Script: my_example_script.sh

Contents:

**********
#!/bin/sh
# Author: Mikael Ridza Minten mikael.minten25@imperial.ac.uk
# Script: My example script
# Description: A simple script to print Hello and the username
# Arguments: None
# Date: Oct 2019

MSG1="Hello"
MSG2=$USER 
echo "$MSG1 $MSG2"
echo "Hello $USER"
echo
**********

Output (first 500 chars):

**********
Hello mhasoba
Hello mhasoba


**********
No errors.
======================================================================
Script: variables.sh

Contents:

**********
#!/bin/sh

## Illustrates the use of variables

# Special variables

echo "this script was called with $# parameters"
echo "the scripts name is $0"
echo "the arguments are $@"
echo "the first argument is $1"
echo "the second argument is $2"

# Assigned Variables: Explicit declaration:
MY_VAR='some string'
echo 'the current value of the variable is:' $MY_VAR
echo
echo 'Please enter a new string'
read MY_VAR
echo
echo 'the current value of the variable is:' $MY_VAR
echo

#Assigned Variables; Reading (multiple values) from user input
echo 'Enter two numbers seperated by space(s)'
read a b
echo
echo 'you entered' $a 'and' $b ';Their sum is:'

## Assigned Variables; Command substitution
MY_SUM=$(expr $a + $b)
echo $MY_SUM
**********

Output (first 500 chars):

**********
this script was called with 0 parameters
the scripts name is variables.sh
the arguments are 
the first argument is 
the second argument is 
the current value of the variable is: some string

Please enter a new string

the current value of the variable is:

Enter two numbers seperated by space(s)

you entered and ;Their sum is:


**********
Errors:
**********
expr: syntax error: missing argument after ‘+’

**********
======================================================================
Script: profile_me_2.py

Contents:

**********
def my_squares(iters):
    out = [i ** 2 for i in range(iters)]
    return out

def my_join(iters, string):
    out = ''
    for i in range(iters):
        out += ", " + string
    return out

def run_my_funcs(x,y):
    print(x,y)
    my_squares(x)
    my_join(x,y)
    return 0

run_my_funcs(10000000,"My string")
**********

Output (first 500 chars):

**********
10000000 My string

**********
No errors.
======================================================================
Script: timeit_me.py

Contents:

**********
##############################################################################
# loops vs. list comprehensions: which is faster?
##############################################################################

iters = 1000000

import timeit

from profile_me import my_squares as my_squares_loops

from profile_me_2 import my_squares as my_squares_lc

##############################################################################
# loops vs. the join method for strings: which is faster?
##############################################################################

mystring = "my string"

from profile_me import my_join as my_join_join

from profile_me_2 import my_join as my_join

**********

Output (first 500 chars):

**********
10000000 My string
10000000 My string

**********
No errors.
======================================================================
Script: profile_me.py

Contents:

**********
def my_squares(iters):
    out = []
    for i in range(iters):
        out.append(i ** 2)
    return out

def my_join(iters, string):
    out = ''
    for i in range(iters):
        out += string.join(", ")
    return out

def run_my_funcs(x,y):
    print(x,y)
    my_squares(x)
    my_join(x,y)
    return 0

run_my_funcs(10000000,"My string")
**********

Output (first 500 chars):

**********
10000000 My string

**********
No errors.
======================================================================
Script: lc2.py

Contents:

**********
# Average UK Rainfall (mm) for 1910 by month
# http://www.metoffice.gov.uk/climate/uk/datasets
rainfall = (('JAN',111.4),
            ('FEB',126.1),
            ('MAR', 49.9),
            ('APR', 95.3),
            ('MAY', 71.8),
            ('JUN', 70.2),
            ('JUL', 97.1),
            ('AUG',140.2),
            ('SEP', 27.0),
            ('OCT', 89.4),
            ('NOV',128.4),
            ('DEC',142.2),
           )

# (1) Use a list comprehension to create a list of month,rainfall tuples where
# the amount of rain was greater than 100 mm.
high_rainfall_comp = [(month, rain) for month, rain in rainfall if rain > 100]


 
# (2) Use a list comprehension to create a list of just month names where the
# amount of rain was less than 50 mm. 

low_rainfall_comp = [month for month, rain in rainfall if rain < 50]


# (3) Now do (1) and (2) using conventional loops (you can choose to do 
# this before 1 and 2 !). 

high_rainfall = []
low_rainfall = []

for month, rain in rainfall:
    if rain > 100:
        high_rainfall.append((month, rain))
    if rain < 50:
        low_rainfall.append(month)





   





**********

Output (first 500 chars):

**********

**********
No errors.
======================================================================
Script: my_example_script.py

Contents:

**********

def foo(x):
    x *= x # same as x = x*x
    print(x)

foo(2)
**********

Output (first 500 chars):

**********
4

**********
No errors.
======================================================================
Script: oaks.py

Contents:

**********
taxa = [ 'Quercus robur',
         'Fraxinus excelsior',
         'Pinus sylvestris',
         'Quercus cerris',
         'Quercus petraea',
       ]

def is_an_oak(name):
    return name.lower().startswith('quercus ')

##Using for loops

oaks_loops = set()
for species in taxa:
    if is_an_oak(species):
        oaks_loops.add(species)
print(oaks_loops)

##Using list comprehension
oaks_lc = set([species for species in taxa if is_an_oak(species)])
print(oaks_lc)

oaks_loops = set()
for species in taxa:
    if is_an_oak(species):
        oaks_loops.add(species.upper())
print(oaks_loops)

## Get names in UPPER CASE using list comprehension
oaks_lc = set([species.upper() for species in taxa if is_an_oak(species)])
print(oaks_lc)

**********

Output (first 500 chars):

**********
{'Quercus cerris', 'Quercus robur', 'Quercus petraea'}
{'Quercus cerris', 'Quercus robur', 'Quercus petraea'}
{'QUERCUS ROBUR', 'QUERCUS CERRIS', 'QUERCUS PETRAEA'}
{'QUERCUS ROBUR', 'QUERCUS CERRIS', 'QUERCUS PETRAEA'}

**********
No errors.
======================================================================
Script: dictionary.py

Contents:

**********
taxa = [ ('Myotis lucifugus','Chiroptera'),
         ('Gerbillus henleyi','Rodentia',),
         ('Peromyscus crinitus', 'Rodentia'),
         ('Mus domesticus', 'Rodentia'),
         ('Cleithrionomys rutilus', 'Rodentia'),
         ('Microgale dobsoni', 'Afrosoricida'),
         ('Microgale talazaci', 'Afrosoricida'),
         ('Lyacon pictus', 'Carnivora'),
         ('Arctocephalus gazella', 'Carnivora'),
         ('Canis lupus', 'Carnivora'),
        ]

taxa_dic = {}

for species, order in taxa:
    if order in taxa_dic:
        taxa_dic[order].add(species)
    else:
        taxa_dic[order] = set([species])

print(taxa_dic)




# Now write a list comprehension that does the same (including the printing after the dictionary has been created)  
 
taxa_dic = {}

orders  = {order for species, order in taxa}

taxa_dic = {order: {species for species, order_2 in taxa if order_2 == order} for order in orders}
print(taxa_dic)
**********

Output (first 500 chars):

**********
{'Chiroptera': {'Myotis lucifugus'}, 'Rodentia': {'Peromyscus crinitus', 'Cleithrionomys rutilus', 'Mus domesticus', 'Gerbillus henleyi'}, 'Afrosoricida': {'Microgale talazaci', 'Microgale dobsoni'}, 'Carnivora': {'Canis lupus', 'Lyacon pictus', 'Arctocephalus gazella'}}
{'Carnivora': {'Canis lupus', 'Lyacon pictus', 'Arctocephalus gazella'}, 'Rodentia': {'Peromyscus crinitus', 'Cleithrionomys rutilus', 'Mus domesticus', 'Gerbillus henleyi'}, 'Afrosoricida': {'Microgale talazaci', 'Microgale dob
**********
No errors.
======================================================================
Script: using_name.py

Contents:

**********
#!/usr/bin/env python3
# Filename: using_name.py

if __name__ == '__main__':
    print('This program is being run by itself!')
else:
    print('I am being imported from another script/program/module!')

print("This module's name is: " + __name__)
**********

Output (first 500 chars):

**********
This program is being run by itself!
This module's name is: __main__

**********
No errors.
======================================================================
Script: basic_io3.py

Contents:

**********
#############################
# STORING OBJECTS
#############################
# To save an object (even complex) for later use
my_dictionary = {"a key": 10, "another key": 11}

import pickle

f = open('../sandbox/testp.p','wb') ## note the b: accept binary files
pickle.dump(my_dictionary, f)
f.close()

## Load the data again
f = open('../sandbox/testp.p','rb')
another_dictionary = pickle.load(f)
f.close()

print(another_dictionary)
**********

Output (first 500 chars):

**********

**********
Errors:
**********
Traceback (most recent call last):
  File "/home/mhasoba/Documents/Teaching/IC_CMEE/2025-26/Coursework/StudentRepos/MikaelMinten_mm4725/week2/code/basic_io3.py", line 9, in <module>
    f = open('../sandbox/testp.p','wb') ## note the b: accept binary files
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '../sandbox/testp.p'

**********
======================================================================
Script: scope.py

Contents:

**********
_a_global = 10 # a global variable

if _a_global >= 5:
    _b_global = _a_global + 5 # also a global variable
    
print("Before calling a_function, outside the function, the value of _a_global is", _a_global)
print("Before calling a_function, outside the function, the value of _b_global is", _b_global)

def a_function():
    _a_global = 4 # a local variable
    
    if _a_global >= 4:
        _b_global = _a_global + 5 # also a local variable
    
    _a_local = 3
    
    print("Inside the function, the value of _a_global is", _a_global)
    print("Inside the function, the value of _b_global is", _b_global)
    print("Inside the function, the value of _a_local is", _a_local)
    
a_function()

print("After calling a_function, outside the function, the value of _a_global is (still)", _a_global)
print("After calling a_function, outside the function, the value of _b_global is (still)", _b_global)
#print("After calling a_function, outside the function, the value of _a_local is ", _a_local)


_a_global = 10

def a_function():
    _a_local = 4
    
    print("Inside the function, the value _a_local is", _a_local)
    print("Inside the function, the value of _a_global is", _a_global)
    
a_function()

print("Outside the function, the value of _a_global is", _a_global)




_a_global = 10

print("Before calling a_function, outside the function, the value of _a_global is", _a_global)

def a_function():
    global _a_global
    _a_global = 5
    _a_local = 4
    
    print("Inside the function, the value of _a_global is", _a_global)
    print("Inside the function, the value _a_local is", _a_local)
    
a_function()

print("After calling a_function, outside the function, the value of _a_global now is", _a_global)




def a_function():
    _a_global = 10

    def _a_function2():
        global _a_global
        _a_global = 20
    
    print("Before calling a_function2, value of _a_global is", _a_global)

    _a_function2()
    
    print("After calling a_function2, value of _a_global is", _a_global)
    
a_function()

print("The value of a_global in main workspace / namespace now is", _a_global)


_a_global = 10

def a_function():

    def _a_function2():
        global _a_global
        _a_global = 20
    
    print("Before calling a_function2, value of _a_global is", _a_global)

    _a_function2()
    
    print("After calling a_function2, value of _a_global is", _a_global)

a_function()

print("The value of a_global in main workspace / namespace is", _a_global)
**********

Output (first 500 chars):

**********
Before calling a_function, outside the function, the value of _a_global is 10
Before calling a_function, outside the function, the value of _b_global is 15
Inside the function, the value of _a_global is 4
Inside the function, the value of _b_global is 9
Inside the function, the value of _a_local is 3
After calling a_function, outside the function, the value of _a_global is (still) 10
After calling a_function, outside the function, the value of _b_global is (still) 15
Inside the function, the val
**********
No errors.
======================================================================
Script: basic_io1.py

Contents:

**********
###########################
# File Input
###########################


# Open a file for reading
f = open('../sandbox/test.txt', 'r')
# use implicit for loop 
# if the object is a file, python will cycle over lines
for line in f:
    print(line)

# close the file
f.close()

# same example (skip blank lines)
f = open('../sandbox/test.txt', 'r')
for line in f:
    if len(line.strip()) > 0:
        print(line)

f.close
**********

Output (first 500 chars):

**********

**********
Errors:
**********
Traceback (most recent call last):
  File "/home/mhasoba/Documents/Teaching/IC_CMEE/2025-26/Coursework/StudentRepos/MikaelMinten_mm4725/week2/code/basic_io1.py", line 7, in <module>
    f = open('../sandbox/test.txt', 'r')
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '../sandbox/test.txt'

**********
======================================================================
Script: debugme.py

Contents:

**********
def buggyfunc(x):
    y = x
    for i in range(x):
        try: 
            y = y-1
            z = x/y
        except ZeroDivisionError:
            print(f"The result of dividing a number by zero is undefined")
        except:
            print(f"This didn't work;{x = }; {y = }")
        else:
            print(f"OK; {x = }; {y = }, {z = };")
    return z

buggyfunc(20)
**********

Output (first 500 chars):

**********
OK; x = 20; y = 19, z = 1.0526315789473684;
OK; x = 20; y = 18, z = 1.1111111111111112;
OK; x = 20; y = 17, z = 1.1764705882352942;
OK; x = 20; y = 16, z = 1.25;
OK; x = 20; y = 15, z = 1.3333333333333333;
OK; x = 20; y = 14, z = 1.4285714285714286;
OK; x = 20; y = 13, z = 1.5384615384615385;
OK; x = 20; y = 12, z = 1.6666666666666667;
OK; x = 20; y = 11, z = 1.8181818181818181;
OK; x = 20; y = 10, z = 2.0;
OK; x = 20; y = 9, z = 2.2222222222222223;
OK; x = 20; y = 8, z = 2.5;
OK; x = 20; y = 7,
**********
No errors.
======================================================================
Script: boilerplate.py

Contents:

**********
#!/usr/bin/env python3

"""Description of this program or application.
You can use several lines"""

__appname__ = '[application name here]'
__author__ = 'Your Name (your@email.address)'
__version__ = '0.0.1'
__license__ = "License for this code/program"

## imports ##
import sys # module to interface our program with the operating system

## constants ##

## functions ##
def main(argv):
    """ Main entry point of the program """
    print('this is boilerplate')
    return 0

if __name__ == "__main__":
    """Makes sure the "main" function is called from command line"""
    status = main(sys.argv)
    sys.exit(status)
**********

Output (first 500 chars):

**********
this is boilerplate

**********
No errors.
======================================================================
Script: basic_io2.py

Contents:

**********
#############################
# FILE OUTPUT
#############################
# Save the elements of a list to a file
list_to_save = range(100)

f = open('../sandbox/testout.txt','w')
for i in list_to_save:
    f.write(str(i) + '\n') ## Add a new line at the end

f.close()
**********

Output (first 500 chars):

**********

**********
Errors:
**********
Traceback (most recent call last):
  File "/home/mhasoba/Documents/Teaching/IC_CMEE/2025-26/Coursework/StudentRepos/MikaelMinten_mm4725/week2/code/basic_io2.py", line 7, in <module>
    f = open('../sandbox/testout.txt','w')
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '../sandbox/testout.txt'

**********
======================================================================
Script: control_flow.py

Contents:

**********
#!/usr/bin/env python3

"""Some functions exemplifying the use of control statements"""
#docstrings are considered part of the running code (normal comments are
#stripped). Hence, you can access your docstrings at run time.
__author__ = 'Samraat Pawar (s.pawar@imperial.ac.uk)'
__version__ = '0.0.1'

import sys

def even_or_odd(x=0): # if not specified, x should take value 0.

    """Find whether a number x is even or odd."""
    if x % 2 == 0: #The conditional if
        return f"{x} is Even!"
    return f"{x} is Odd!"

def largest_divisor_five(x=120):
    """Find which is the largest divisor of x among 2,3,4,5."""
    largest = 0
    if x % 5 == 0:
        largest = 5
    elif x % 4 == 0: #means "else, if"
        largest = 4
    elif x % 3 == 0:
        largest = 3
    elif x % 2 == 0:
        largest = 2
    else: # When all other (if, elif) conditions are not met
        return f"No divisor found for {x}!" # Each function can return a value or a variable.
    return f"The largest divisor of {x} is {largest}"

def is_prime(x=70):
    """Find whether an integer is prime."""
    for i in range(2, x): #  "range" returns a sequence of integers
        if x % i == 0:
            print(f"{x} is not a prime: {i} is a divisor") 
            return False
    print(f"{x} is a prime!")
    return True 

def find_all_primes(x=22):
    """Find all the primes up to x"""
    allprimes = []
    for i in range(2, x + 1):
        if is_prime(i):
            allprimes.append(i)
    print(f"There are {len(allprimes)} primes between 2 and {x}")
    return allprimes
      
def main(argv):
    print(even_or_odd(22))
    print(even_or_odd(33))
    print(largest_divisor_five(120))
    print(largest_divisor_five(121))
    print(is_prime(60))
    print(is_prime(59))
    print(find_all_primes(100))
    return 0

if (__name__ == "__main__"):
    status = main(sys.argv)
    sys.exit(status)
**********

Output (first 500 chars):

**********
22 is Even!
33 is Odd!
The largest divisor of 120 is 5
No divisor found for 121!
60 is not a prime: 2 is a divisor
False
59 is a prime!
True
2 is a prime!
3 is a prime!
4 is not a prime: 2 is a divisor
5 is a prime!
6 is not a prime: 2 is a divisor
7 is a prime!
8 is not a prime: 2 is a divisor
9 is not a prime: 3 is a divisor
10 is not a prime: 2 is a divisor
11 is a prime!
12 is not a prime: 2 is a divisor
13 is a prime!
14 is not a prime: 2 is a divisor
15 is not a prime: 3 is a divisor
16 is
**********
No errors.
======================================================================
Script: lc1.py

Contents:

**********
birds = ( ('Passerculus sandwichensis','Savannah sparrow',18.7),
          ('Delichon urbica','House martin',19),
          ('Junco phaeonotus','Yellow-eyed junco',19.5),
          ('Junco hyemalis','Dark-eyed junco',19.6),
          ('Tachycineata bicolor','Tree swallow',20.2),
         )

#(1) Write three separate list comprehensions that create three different
# lists containing the latin names, common names and mean body masses for
# each species in birds, respectively. 

latin_names = [row[0] for row in birds]
common_names = [row[1] for row in birds]
weights = [row[2] for row in birds]


# (2) Now do the same using conventional loops (you can choose to do this 
# before 1 !). 

latin_names = []
common_names = []
weights = []

for latin, common, weight in birds:
    latin_names.append(latin)
    common_names.append(common)
    weights.append(weight)


# A nice example out out is:
# Step #1:
# Latin names:
# ['Passerculus sandwichensis', 'Delichon urbica', 'Junco phaeonotus', 'Junco hyemalis', 'Tachycineata bicolor']
# ... etc.
 
**********

Output (first 500 chars):

**********

**********
No errors.
======================================================================
Script: sysargv.py

Contents:

**********
#!/usr/bin/env python3

import sys
print("This is the name of the script: ", sys.argv[0])
print("Number of arguments: ", len(sys.argv))
print("The arguments are: " , str(sys.argv))
**********

Output (first 500 chars):

**********
This is the name of the script:  sysargv.py
Number of arguments:  1
The arguments are:  ['sysargv.py']

**********
No errors.
======================================================================
Script: oaks_debugme.py

Contents:

**********
import csv
import sys

import doctest # Import the doctest module

#Define function
def is_an_oak(name):
    """
    >>> is_an_oak('Fraxinus, excelsior')
    False

    >>> is_an_oak('quercus, robur') 
    True

    >>> is_an_oak('Quercus, robur') 
    True

    >>> is_an_oak('Quercuss, robur') 
    True
    
    """
    return name.lower().startswith('quer') # making it so it can recognise typos as long as it starts with quer

def main(argv): 
    f = open('../data/test_oak_data.csv','r')
    g = open('../results/just_oak_data.csv','w') 
    taxa = csv.reader(f)
    csvwrite = csv.writer(g)
    oaks = set()
    for row in taxa:
        print(row)
        print ("The genus is: ") 
        print(row[0] + '\n')
        if is_an_oak(row[0]):
            print('FOUND AN OAK!\n')
            csvwrite.writerow([row[0], row[1]])    

    return 0
    
if (__name__ == "__main__"):
    status = main(sys.argv)




doctest.testmod()
**********

Output (first 500 chars):

**********
['Genus', ' species']
The genus is: 
Genus

['Quercus', ' robur']
The genus is: 
Quercus

FOUND AN OAK!

['Fraxinus', ' excelsior']
The genus is: 
Fraxinus

['Pinus', ' sylvestris']
The genus is: 
Pinus

['Quercus', ' cerris']
The genus is: 
Quercus

FOUND AN OAK!

['Quercus', ' petraea']
The genus is: 
Quercus

FOUND AN OAK!


**********
No errors.
======================================================================
Script: tuple.py

Contents:

**********
birds = ( ('Passerculus sandwichensis','Savannah sparrow',18.7),
          ('Delichon urbica','House martin',19),
          ('Junco phaeonotus','Yellow-eyed junco',19.5),
          ('Junco hyemalis','Dark-eyed junco',19.6),
          ('Tachycineata bicolor','Tree swallow',20.2),
        )


for latin, common, weight in birds:
    print("Latin name:", latin, "Common name:", common, "Mass:", weight)
**********

Output (first 500 chars):

**********
Latin name: Passerculus sandwichensis Common name: Savannah sparrow Mass: 18.7
Latin name: Delichon urbica Common name: House martin Mass: 19
Latin name: Junco phaeonotus Common name: Yellow-eyed junco Mass: 19.5
Latin name: Junco hyemalis Common name: Dark-eyed junco Mass: 19.6
Latin name: Tachycineata bicolor Common name: Tree swallow Mass: 20.2

**********
No errors.
======================================================================
Script: test_control_flow.py

Contents:

**********
#!/usr/bin/env python3

"""Some functions exemplifying the use of control statements"""

__author__ = 'Your Name (Your.Name@your.email.address)'
__version__ = '0.0.1'

import sys
import doctest # Import the doctest module

def even_or_odd(x=0):
    """Find whether a number x is even or odd.
      
    >>> even_or_odd(10)
    '10 is Even!'
    
    >>> even_or_odd(5)
    '5 is Odd!'
        
    in case of negative numbers, the positive is taken:    
    >>> even_or_odd(-2)
    '-2 is Even!'
    
    """
    #Define function to be tested
    if x % 2 == 0:
        return f"{x} is Even!"
    return f"{x} is Odd!"

def main(argv): 
    print(even_or_odd(22))
    print(even_or_odd(33))
    return 0

if (__name__ == "__main__"):
    status = main(sys.argv)

doctest.testmod()   # To run with embedded tests
**********

Output (first 500 chars):

**********
22 is Even!
33 is Odd!

**********
No errors.
======================================================================
Script: cf_exercises_2.py

Contents:

**********
################
def hello_1(x):
    for j in range(x):
        if j % 3 == 0:
            print('Hello')
    print(' ')
hello_1(12)


################
def hello_2(x):
    for j in range(x):
        if j % 5 == 3:
            print('Hello')
        elif j % 4 == 3:
            print('Hello')
    print(' ')

hello_2(12)

#################

def hello_3(x, y):
    for i in range(x, y):
        print('Hello')
    print(' ')

hello_3(3, 17)

def hello_4(x):
    while x != 15:
        print('Hello')
        x = x + 3
    print(' ')

hello_4(0)

def hello_5(x):
    while x < 100:
        if x == 31:
            for k in range(7):
                print('Hello')
        elif x == 18:
            print('Hello')
        x = x + 1
    print(' ')

hello_5(12)

#################
# WHILE loop with BREAK
def hello_6(x, y):
    while x: # while x is True
        print("hello! " + str(y))
        y += 1 # increment y by 1 
        if y == 6:
            break
    print(' ')

hello_6 (True, 0)
**********

Output (first 500 chars):

**********
Hello
Hello
Hello
Hello
 
Hello
Hello
Hello
Hello
 
Hello
Hello
Hello
Hello
Hello
Hello
Hello
Hello
Hello
Hello
Hello
Hello
Hello
Hello
 
Hello
Hello
Hello
Hello
Hello
 
Hello
Hello
Hello
Hello
Hello
Hello
Hello
Hello
 
hello! 0
hello! 1
hello! 2
hello! 3
hello! 4
hello! 5
 

**********
No errors.
======================================================================
Script: cf_exercises_1.py

Contents:

**********
#!/usr/bin/env python3

"""Some functions exemplifying the use of control statements"""
__author__ = 'Mikael Minten (mikael.minten25@imperial.ac.uk)'
__version__ = '0.0.1'


import sys


def foo_1(x):
    return x ** 0.5

def foo_2(x, y):
    if x > y:
        return x
    return y

def foo_3(x, y, z):
    if x > y:
        x, y = y, x
    if x > z:
        x, z = z, x
    if y > z:
        y, z = z, y
    return [x, y, z]

def foo_4(x):
    result = 1
    for i in range(1, x+1):
        result = result * i
    return result

def foo_5(x):
    if x == 1:
        return 1
    return x * foo_5(x-1)

def foo_6(x):
    facto = 1
    while x >= 1:
        facto = facto * x
        x = x - 1
    return facto



def main(argv):
    print(foo_1(10))
    print(foo_2(10, 2))
    print(foo_3(10, 2, 3))
    print(foo_4(10))
    print(foo_5(10))
    print(foo_6(10))
    return 0



if (__name__ == "__main__"):
    status = main(sys.argv)
    sys.exit(status)
**********

Output (first 500 chars):

**********
3.1622776601683795
10
[2, 3, 10]
3628800
3628800
3628800

**********
No errors.
======================================================================
Script: loops.py

Contents:

**********
# FOR loops
for i in range(5):
    print(i)

my_list = [0, 2, "geronimo!", 3.0, True, False]
for k in my_list:
    print(k)


total = 0
summands = [0, 1, 11, 111, 1111]
for s in summands:
    total = total + s
    print(total)


# WHILE loop
z = 0
while z < 100:
    z = z + 1
    print(z)
**********

Output (first 500 chars):

**********
0
1
2
3
4
0
2
geronimo!
3.0
True
False
0
1
12
123
1234
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100

**********
No errors.
======================================================================
Script: basic_csv.py

Contents:

**********
import csv

# Read a file containing:
# 'Species','Infraorder','Family','Distribution','Body mass male (Kg)'
with open('../data/test_csv.csv', 'r') as f:

    csvread = csv.reader(f)
    temp = []
    for row in csvread:
        temp.append(tuple(row))
        print(row)
        print("The species is", row[0])

with open('../data/test_csv.csv', 'r') as f:
    with open('../results/body_mass.csv', 'w') as g:

        csvread = csv.reader(f)
        csvwrite = csv.writer(g)
        for row in csvread:
            print(row)
            csvwrite.writerow([row[0], row[4]])
**********

Output (first 500 chars):

**********
['Species', 'Infraorder', 'Family', 'Distribution', 'Body mass male (Kg)']
The species is Species
['Daubentonia_madagascariensis', 'Chiromyiformes ', 'Daubentoniidae', 'Madagascar', '2.7']
The species is Daubentonia_madagascariensis
['Allocebus_trichotis', 'Lemuriformes', 'Cheirogaleidae', 'Madagascar', '0.1']
The species is Allocebus_trichotis
['Avahi_laniger', 'Lemuriformes', 'Indridae', 'America', '1.03']
The species is Avahi_laniger
['Avahi_occidentalis', 'Lemuriformes', 'Indridae', 'Madagas
**********
No errors.
======================================================================
Script: align_seqs.py

Contents:

**********
#!/usr/bin/env python3

"""A code that finds the best allignent for two strands based on a csv"""
__author__ = 'Mikael Minten (mikael.minten25@imperial.ac.uk)'
__version__ = '0.0.1'

import sys
import csv


def import_values():

    with open("../data/align_seq_sample.csv", "r") as file:
        reader = csv.reader(file)
        rows = list(reader)
        seq1 = ''.join(rows[0]) # using join to make it a string
        seq2 = ''.join(rows[1])

    l1 = len(seq1)
    l2 = len(seq2)
    if l1 >= l2:
        s1 = seq1
        s2 = seq2
    else:
        s1 = seq2
        s2 = seq1
        l1, l2 = l2, l1 # swap the two lengths

    return(s1, s2, l1, l2)


# A function that computes a score by returning the number of matches starting
# from arbitrary startpoint (chosen by user)
def calculate_score(s1, s2, l1, l2, startpoint):
    matched = "" # to hold string displaying alignements
    score = 0
    for i in range(l2):
        if (i + startpoint) < l1:
            if s1[i + startpoint] == s2[i]: # if the bases match
                matched = matched + "*"
                score = score + 1
            else:
                matched = matched + "-"

    # some formatted output
    print("." * startpoint + matched)           
    print("." * startpoint + s2)
    print(s1)
    print(score) 
    print(" ")

    return score


def find_best_score(s1, s2, l1, l2):
    my_best_align = None
    my_best_score = -1

    for i in range(l1): # Note that you just take the last alignment with the highest score
        z = calculate_score(s1, s2, l1, l2, i)
        if z > my_best_score:
            my_best_align = "." * i + s2 # think about what this is doing!
            my_best_score = z 
    print(f"{my_best_align}\n{s1}\nBest score: {my_best_score}")
    result = f"{my_best_align}\n{s1}\nBest score: {my_best_score}"
    return result 

def main(argv):
    s1, s2, l1, l2 = import_values()
    with open( '../results/aligned_seq.txt', 'w') as f:
        f.write(find_best_score(s1, s2, l1, l2))    
    return(0)


if (__name__ == "__main__"):
    status = main(sys.argv)
    sys.exit(status)

**********

Output (first 500 chars):

**********
-----*****
CAATTCGGAT
ATCGCCGGATTACGGG
5
 
.------*--*
.CAATTCGGAT
ATCGCCGGATTACGGG
2
 
..*---------
..CAATTCGGAT
ATCGCCGGATTACGGG
1
 
...--------*-
...CAATTCGGAT
ATCGCCGGATTACGGG
1
 
....*---------
....CAATTCGGAT
ATCGCCGGATTACGGG
1
 
.....*---*-----
.....CAATTCGGAT
ATCGCCGGATTACGGG
2
 
......--***--*--
......CAATTCGGAT
ATCGCCGGATTACGGG
4
 
.......-*-*-***-
.......CAATTCGGAT
ATCGCCGGATTACGGG
5
 
........------**
........CAATTCGGAT
ATCGCCGGATTACGGG
2
 
.........--*---*
.........CAATTCGGAT
ATCGCCG
**********
No errors.
======================================================================
Script: apply_2.R

Contents:

**********
SomeOperation <- function(v) { # (What does this function do?)
  if (sum(v) > 0) { #note that sum(v) is a single (scalar) value
    return (v * 100)
  } else { 
  return (v)
    }
}

M <- matrix(rnorm(100), 10, 10)
M
print (apply(M, 1, SomeOperation))


SomeOperation(5)

**********

Output (first 500 chars):

**********
            [,1]        [,2]        [,3]       [,4]       [,5]        [,6]
 [1,] -1.9674698 -1.03568730  2.27215416  0.4769176 -0.2089612 -0.55061638
 [2,] -0.3984783 -0.38035218 -0.72607062 -2.8256598  0.6691912 -0.10971309
 [3,] -0.7094193 -0.11539983 -0.58103701  0.5404474  0.8841569  0.05025156
 [4,]  0.2873780 -0.20787362  0.17685234  0.3250172  0.7962462 -0.38465564
 [5,]  0.4018520 -0.77635765  0.90712692  1.2813457 -0.6899940 -0.91492560
 [6,]  1.0684856 -1.67467710  0.76596963 -1.199578
**********
No errors.
======================================================================
Script: break.R

Contents:

**********
i <- 0 #Initialize i
    while (i < Inf) {
        if (i == 10) {
            break 
        } else { # Break out of the while loop!  
            cat("i equals " , i , " \n")
            i <- i + 1 # Update i
    }
}

**********

Output (first 500 chars):

**********
i equals  0  
i equals  1  
i equals  2  
i equals  3  
i equals  4  
i equals  5  
i equals  6  
i equals  7  
i equals  8  
i equals  9  

**********
No errors.
======================================================================
Script: sample.R

Contents:

**********
######### Functions ##########

## A function to take a sample of size n from a population "popn" and return its mean
myexperiment <- function(popn,n) {
    pop_sample <- sample(popn, n, replace = FALSE)
    return(mean(pop_sample))
}

## Calculate means using a FOR loop on a vector without preallocation:
loopy_sample1 <- function(popn, n, num) {
    result1 <- vector() #Initialize empty vector of size 1 
    for(i in 1:num) {
        result1 <- c(result1, myexperiment(popn, n))
    }
    return(result1)
}

## To run "num" iterations of the experiment using a FOR loop on a vector with preallocation:
loopy_sample2 <- function(popn, n, num) {
    result2 <- vector(,num) #Preallocate expected size
    for(i in 1:num) {
        result2[i] <- myexperiment(popn, n)
    }
    return(result2)
}

## To run "num" iterations of the experiment using a FOR loop on a list with preallocation:
loopy_sample3 <- function(popn, n, num) {
    result3 <- vector("list", num) #Preallocate expected size
    for(i in 1:num) {
        result3[[i]] <- myexperiment(popn, n)
    }
    return(result3)
}


## To run "num" iterations of the experiment using vectorization with lapply:
lapply_sample <- function(popn, n, num) {
    result4 <- lapply(1:num, function(i) myexperiment(popn, n))
    return(result4)
}

## To run "num" iterations of the experiment using vectorization with sapply:
sapply_sample <- function(popn, n, num) {
    result5 <- sapply(1:num, function(i) myexperiment(popn, n))
    return(result5)
}

set.seed(12345)
popn <- rnorm(10000) # Generate the population
hist(popn)

n <- 100 # sample size for each experiment
num <- 10000 # Number of times to rerun the experiment

print("Using loops without preallocation on a vector took:" )
print(system.time(loopy_sample1(popn, n, num)))

print("Using loops with preallocation on a vector took:" )
print(system.time(loopy_sample2(popn, n, num)))

print("Using loops with preallocation on a list took:" )
print(system.time(loopy_sample3(popn, n, num)))

print("Using the vectorized sapply function (on a list) took:" )
print(system.time(sapply_sample(popn, n, num)))

print("Using the vectorized lapply function (on a list) took:" )
print(system.time(lapply_sample(popn, n, num)))
**********

Output (first 500 chars):

**********
[1] "Using loops without preallocation on a vector took:"
   user  system elapsed 
  0.195   0.014   0.207 
[1] "Using loops with preallocation on a vector took:"
   user  system elapsed 
  0.129   0.000   0.129 
[1] "Using loops with preallocation on a list took:"
   user  system elapsed 
  0.124   0.000   0.124 
[1] "Using the vectorized sapply function (on a list) took:"
   user  system elapsed 
  0.133   0.000   0.133 
[1] "Using the vectorized lapply function (on a list) took:"
   user  sys
**********
No errors.
======================================================================
Script: plot_lin.R

Contents:

**********
x <- seq(0, 100, by = 0.1)
y <- -4. + 0.25 * x +
  rnorm(length(x), mean = 0., sd = 2.5)

# and put them in a dataframe
my_data <- data.frame(x = x, y = y)

# perform a linear regression
my_lm <- summary(lm(y ~ x, data = my_data))

# plot the data
p <-  ggplot(my_data, aes(x = x, y = y,
                          colour = abs(my_lm$residual))
             ) +
  geom_point() +
  scale_colour_gradient(low = "black", high = "red") +
  theme(legend.position = "none") +
  scale_x_continuous(
    expression(alpha^2 * pi / beta * sqrt(Theta)))

# add the regression line
p <- p + geom_abline(
  intercept = my_lm$coefficients[1][1],
  slope = my_lm$coefficients[2][1],
  colour = "red")
# throw some math on the plot
p <- p + geom_text(aes(x = 60, y = 0,
                       label = "sqrt(alpha) * 2* pi"), 
                       parse = TRUE, size = 6, 
                       colour = "blue")

p

ggsave("../results/my_lin_reg.pdf", plot = p, width = 7,height = 5)
**********

Output (first 500 chars):

**********

**********
Errors:
**********
Error in ggplot(my_data, aes(x = x, y = y, colour = abs(my_lm$residual))) : 
  could not find function "ggplot"
Execution halted

**********
======================================================================
Script: compile_latex_florida.sh

Contents:

**********
#!/bin/bash


# Compile in current directory but move PDF to results
pdflatex ../data/florida_text.tex
pdflatex ../data/florida_text.tex
pdflatex ../data/florida_text.tex

# Move PDF to results directory
mv florida_text.pdf ../results/

# Open PDF from results directory
evince ../results/florida_text.pdf &

## Cleanup
rm -f florida_text.{aux,log,bbl,blg}
**********

Output (first 500 chars):

**********
This is pdfTeX, Version 3.141592653-2.6-1.40.25 (TeX Live 2023/Debian) (preloaded format=pdflatex)
 restricted \write18 enabled.
entering extended mode
(../data/florida_text.tex
LaTeX2e <2023-11-01> patch level 1
L3 programming layer <2024-01-22>
(/usr/share/texlive/texmf-dist/tex/latex/base/article.cls
Document Class: article 2023/05/17 v1.4n Standard LaTeX document class
(/usr/share/texlive/texmf-dist/tex/latex/base/size10.clo))
(/usr/share/texlive/texmf-dist/tex/latex/graphics/graphicx.sty
(/
**********
Errors:
**********
mv: cannot stat 'florida_text.pdf': No such file or directory
Cannot parse arguments: Cannot open display: 

**********
======================================================================
Script: basic_io.R

Contents:

**********
# A simple script to illustrate R input-output.  
# Run line by line and check inputs outputs to understand what is happening  

my_data <- read.csv("../data/trees.csv", header = TRUE) # import with headers

write.csv(my_data, "../results/my_data.csv") #write it out as a new file

write.table(my_data[1,], file = "../results/my_data.csv",append=TRUE) # Append to it

write.csv(my_data, "../results/my_data.csv", row.names=TRUE) # write row names

write.table(my_data, "../results/my_data.csv", col.names=FALSE) # ignore column names


**********

Output (first 500 chars):

**********

**********
Errors:
**********
Error in file(file, ifelse(append, "a", "w")) : 
  cannot open the connection
Calls: write.csv -> eval.parent -> eval -> eval -> <Anonymous> -> file
In addition: Warning message:
In file(file, ifelse(append, "a", "w")) :
  cannot open file '../results/my_data.csv': No such file or directory
Execution halted

**********
======================================================================
Script: tree_heights.R

Contents:

**********
# This function calculates heights of trees given distance of each tree 
# from its base and angle to its top, using  the trigonometric formula 
#
# height = distance * tan(radians)
#
# ARGUMENTS
# degrees:   The angle of elevation of tree
# distance:  The distance from base of tree (e.g., meters)
#
# OUTPUT
# The heights of the tree, same units as "distance"


if (!require("tidyverse", quietly = TRUE)) {
  stop("Please install the 'tidyverse' package")
}

require("tidyverse") # check if tidyverse is installed- if not give an error 

tree_height <- function(degrees, distance) {
    radians <- degrees * pi /180
    height <- distance * tan(radians)
    return (height)
}

tree_data <- read.csv("../data/trees.csv", header = TRUE)

tree_data <- tree_data %>%
    mutate(Tree.Height.m = tree_height(Angle.degrees, Distance.m))

write.csv(tree_data, "../results/tree_hts.csv", row.names = FALSE)

# This script should work using either source or Rscript in Linux / UNIX.
**********

Output (first 500 chars):

**********

**********
Errors:
**********
── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.4.4     ✔ tibble    3.3.0
✔ lubridate 1.9.4     ✔ tidyr     1.3.1
✔ purrr     1.0.4     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors
Error in file(file, ifelse(append, "a", "w")) : 
  cannot open the connection
Calls: write.csv -> eval.parent -> eval -> eval -> <Anonymous> -> file
In addition: Warning message:
In file(file, ifelse(append, "a", "w")) :
  cannot open file '../results/tree_hts.csv': No such file or directory
Execution halted

**********
======================================================================
Script: pp_regress.R

Contents:

**********

library(tidyverse)

ecol <- read.csv("../data/ecol_archives_e089_51_d1.csv")

gram_conversion <- function(unit, value) {
  ifelse(unit == "mg",
         value / 1000,
         ifelse(unit == "g",
                value,
                NA))
}

ecol <- ecol %>%
    mutate(Prey.mass.grams = gram_conversion(Prey.mass.unit, Prey.mass))



(p <- ggplot(ecol, aes(x=Prey.mass.grams, y = Predator.mass, colour = Predator.lifestage)) + 
    geom_point(shape = I(3)) + 
    facet_wrap(Type.of.feeding.interaction~., ncol =1, strip.position = "right") +
    geom_smooth(method = "lm", fullrange = TRUE) + 
    scale_x_log10() +                    # log10 x-axis
    scale_y_log10() +                    # log10 y-axis
    theme_bw() +
  theme(
    legend.position = "bottom",
    legend.title = element_text(face = "bold")   
  ) +
  guides(colour = guide_legend(nrow = 1)) +
  labs(
    x = "Prey Mass in grams",               
    y = "Predator Mass in grams"                 
  ))


regression_results <- ecol %>%
  group_by(Type.of.feeding.interaction, Predator.lifestage) %>%
  filter(n() >= 3) %>% # make sure that there are no NaNs
  summarise(
    # Fit the linear model
    model = list(lm(Prey.mass.grams ~ Predator.mass, data = cur_data())),
    
    # Extract slope, intercept, and summary stats
    slope = coef(model[[1]])[2],
    intercept = coef(model[[1]])[1],
    r_squared = summary(model[[1]])$r.squared,
    f_statistic = summary(model[[1]])$fstatistic[1],
    p_value = pf(summary(model[[1]])$fstatistic[1],
                 summary(model[[1]])$fstatistic[2],
                 summary(model[[1]])$fstatistic[3],
                 lower.tail = FALSE),
    .groups = "drop"
  ) %>%
  select(-model)  # remove model list column before saving


write.csv(regression_results, "../results/reggression_results.csv")

ggsave("../results/reggression.pdf", plot = p, width = 8, height = 15)

**********

Output (first 500 chars):

**********

**********
Errors:
**********
── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.4.4     ✔ tibble    3.3.0
✔ lubridate 1.9.4     ✔ tidyr     1.3.1
✔ purrr     1.0.4     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors
`geom_smooth()` using formula = 'y ~ x'
Warning messages:
1: In qt((1 - level)/2, df) : NaNs produced
2: In max(ids, na.rm = TRUE) :
  no non-missing arguments to max; returning -Inf
Warning message:
There was 1 warning in `summarise()`.
ℹ In argument: `model = list(lm(Prey.mass.grams ~ Predator.mass, data =
  cur_data()))`.
ℹ In group 1: `Type.of.feeding.interaction = "insectivorous"`
  `Predator.lifestage = "larva / juvenile"`.
Caused by warning:
! `cur_data()` was deprecated in dplyr 1.1.0.
ℹ Please use `pick()` instead. 
Error in file(file, ifelse(append, "a", "w")) : 
  cannot open the connection
Calls: write.csv -> eval.parent -> eval -> eval -> <Anonymous> -> file
In addition: Warning message:
In file(file, ifelse(append, "a", "w")) :
  cannot open file '../results/reggression_results.csv': No such file or directory
Execution halted

**********
======================================================================
Script: data_wrang.R

Contents:

**********
################################################################
################## Wrangling the Pound Hill Dataset ############
################################################################

############# Load the dataset ###############
# header = false because the raw data don't have real headers
MyData <- as.matrix(read.csv("../data/pound_hill_data.csv", header = FALSE))

# header = true because we do have metadata headers
MyMetaData <- read.csv("../data/pound_hill_meta_data.csv", header = TRUE, sep = ";")

############# Inspect the dataset ###############
head(MyData)
dim(MyData)
str(MyData)
fix(MyData) #you can also do this
fix(MyMetaData)

############# Transpose ###############
# To get those species into columns and treatments into rows 
MyData <- t(MyData) 
head(MyData)
dim(MyData)

############# Replace species absences with zeros ###############
MyData[MyData == ""] = 0

############# Convert raw matrix to data frame ###############

TempData <- as.data.frame(MyData[-1,],stringsAsFactors = F) #stringsAsFactors = F is important!
colnames(TempData) <- MyData[1,] # assign column names from original data

############# Convert from wide to long format  ###############
require(reshape2) # load the reshape2 package


MyWrangledData <- melt(TempData, id=c("Cultivation", "Block", "Plot", "Quadrat"), variable.name = "Species", value.name = "Count")

MyWrangledData[, "Cultivation"] <- as.factor(MyWrangledData[, "Cultivation"])
MyWrangledData[, "Block"] <- as.factor(MyWrangledData[, "Block"])
MyWrangledData[, "Plot"] <- as.factor(MyWrangledData[, "Plot"])
MyWrangledData[, "Quadrat"] <- as.factor(MyWrangledData[, "Quadrat"])
MyWrangledData[, "Count"] <- as.integer(MyWrangledData[, "Count"])

str(MyWrangledData)
head(MyWrangledData)
dim(MyWrangledData)

############# Exploring the data (extend the script below)  ###############

MyWrangledData <- dplyr::as_tibble(MyWrangledData) 
MyWrangledData
class(MyWrangledData)

glimpse(MyWrangledData) #like str(), but nicer!

utils::View(MyWrangledData) #same as fix()

slice(MyWrangledData, 10:15) # Look at a particular range of data rows


MyWrangledData %>%
    group_by(Species) %>%
        summarise(avg = mean(Count))


**********

Output (first 500 chars):

**********
     V1                     V2        V3        V4        V5        V6       
[1,] "Cultivation"          "october" "october" "october" "october" "october"
[2,] "Block"                "a"       "a"       "a"       "a"       "a"      
[3,] "Plot"                 "1"       "1"       "1"       "1"       "1"      
[4,] "Quadrat"              "Q1"      "Q2"      "Q3"      "Q4"      "Q5"     
[5,] "Achillea millefolium" "4"       "8"       "3"       "20"      "6"      
[6,] "Agrostis gigantea"    ""  
**********
Errors:
**********
Vim: Warning: Output is not to a terminal
Vim: Warning: Input is not from a terminal


**********
======================================================================
Script: boilerplate.R

Contents:

**********
MyFunction <- function(Arg1, Arg2) {
    print(paste("argument", as.character(Arg1), "is a", class(Arg1)))
    print(paste("argument", as.character(Arg2), "is a", class(Arg2)))

    return(c(Arg1, Arg2))
}

MyFunction(1,2)
MyFunction("Riki","Tiki") #A different test
**********

Output (first 500 chars):

**********
[1] "argument 1 is a numeric"
[1] "argument 2 is a numeric"
[1] 1 2
[1] "argument Riki is a character"
[1] "argument Tiki is a character"
[1] "Riki" "Tiki"

**********
No errors.
======================================================================
Script: r_conditionals.R.r

Contents:

**********
# Checks if an integer is even
is.even <- function(n = 2) {
  if (n %% 2 == 0) {
    return(paste(n,'is even!'))
  } else {
  return(paste(n,'is odd!'))
  }
}

is.even(6)

# Checks if a number is a power of 2
is.power2 <- function(n = 2) {
  if (log2(n) %% 1==0) {
    return(paste(n, 'is a power of 2!'))
  } else {
  return(paste(n,'is not a power of 2!'))
    }
}

is.power2(4)

# Checks if a number is prime
is.prime <- function(n) {
  if (n==0) {
    return(paste(n,'is a zero!'))
  } else if (n==1) {
    return(paste(n,'is just a unit!'))
  }
    
  ints <- 2:(n-1)
  
  if (all(n%%ints!=0)) {
    return(paste(n,'is a prime!'))
  } else {
  return(paste(n,'is a composite!'))
    }
}

is.prime(3)
**********

Output (first 500 chars):

**********
[1] "6 is even!"
[1] "4 is a power of 2!"
[1] "3 is a prime!"

**********
No errors.
======================================================================
Script: apply_1.R

Contents:

**********
## Build a random matrix
M <- matrix(rnorm(100), 10, 10)

## Take the mean of each row
RowMeans <- apply(M, 1, mean)
print (RowMeans)

RowVars <- apply(M, 1, var)
print (RowVars)


ColMeans <- apply(M, 2, mean)
print (ColMeans)
**********

Output (first 500 chars):

**********
 [1] -0.057432701 -0.260185307 -0.062133804 -0.235881693  0.143660405
 [6] -0.334168409 -0.669985640  0.728101470 -0.005491776  0.252216302
 [1] 1.5605968 0.6944062 1.8901489 0.7450158 0.6825587 1.3870717 0.6215023
 [8] 2.1105299 1.1717553 0.5898343
 [1] -0.12633604  0.26221139  0.36062038  0.22740902 -0.16621807 -0.47492150
 [7] -0.35619916 -0.22375977 -0.05247452  0.04836713

**********
No errors.
======================================================================
Script: control_flow.R

Contents:

**********
a <- TRUE
if (a == TRUE) {
    print ("a is TRUE")
} else {
    print ("a is FALSE")
}


z <- runif(1) ## Generate a uniformly distributed random number
if (z <= 0.5) {print ("Less than a half")}


for (i in 1:10) {
    j <- i*i
    print(paste(i, "squared in", j))
}

for(species in c('Heliodoxa rubinoides', 
                 'Boissonneaua jardini', 
                 'Sula nebouxii')) {
      print(paste('The species is', species))
}

v1 <- c("a","bc","def")
for (i in v1) {
    print(i)
}

# while loops

i <- 0
while (i < 10) {
    i <- i+1
    print(i^2)
}
**********

Output (first 500 chars):

**********
[1] "a is TRUE"
[1] "1 squared in 1"
[1] "2 squared in 4"
[1] "3 squared in 9"
[1] "4 squared in 16"
[1] "5 squared in 25"
[1] "6 squared in 36"
[1] "7 squared in 49"
[1] "8 squared in 64"
[1] "9 squared in 81"
[1] "10 squared in 100"
[1] "The species is Heliodoxa rubinoides"
[1] "The species is Boissonneaua jardini"
[1] "The species is Sula nebouxii"
[1] "a"
[1] "bc"
[1] "def"
[1] 1
[1] 4
[1] 9
[1] 16
[1] 25
[1] 36
[1] 49
[1] 64
[1] 81
[1] 100

**********
No errors.
======================================================================
Script: my_bars.R

Contents:

**********
a <- read.table("../data/results.txt", header = TRUE)

head(a)

a$ymin <- rep(0, dim(a)[1]) # append a column of zeros

# Print the first linerange
p <- ggplot(a)
p <- p + geom_linerange(data = a, aes(
                          x = x,
                          ymin = ymin,
                          ymax = y1,
                          size = (0.5)
                          ),
                        colour = "#E69F00",
                        alpha = 1/2, show.legend = FALSE)

# Print the second linerange
p <- p + geom_linerange(data = a, aes(
                          x = x,
                          ymin = ymin,
                          ymax = y2,
                          size = (0.5)
                          ),
                        colour = "#56B4E9",
                        alpha = 1/2, show.legend = FALSE)

# Print the third linerange:
p <- p + geom_linerange(data = a, aes(
                          x = x,
                          ymin = ymin,
                          ymax = y3,
                          size = (0.5)
                          ),
                        colour = "#D55E00",
                        alpha = 1/2, show.legend = FALSE)

# Annotate the plot with labels:
p <- p + geom_text(data = a, aes(x = x, y = -500, label = Label))

# now set the axis labels, remove the legend, and prepare for bw printing
p <- p + scale_x_continuous("My x axis",
                            breaks = seq(3, 5, by = 0.05)) + 
                            scale_y_continuous("My y axis") + 
                            theme_bw() + 
                            theme(legend.position = "none") 
p

ggsave("../results/my_bars.pdf", plot = p, width = 7,height = 5)
**********

Output (first 500 chars):

**********
         x   y1   y2 y3 Label
1 3.515424 4320 4320  0  <NA>
2 3.533984 2160 2160  0  <NA>
3 3.557647 4320 4320  0  <NA>
4 3.569953 4320 4320  0  <NA>
5 3.578984 8640 8640  0  <NA>
6 3.585665 2160 2160  0  <NA>

**********
Errors:
**********
Error in ggplot(a) : could not find function "ggplot"
Execution halted

**********
======================================================================
Script: girko.R

Contents:

**********
# A script to plott the Girko’s law simulation, including saving the result figure as a file called Girko.pdf in the results directory.

library(tidyverse)


build_ellipse <- function(hradius, vradius){ # function that returns an ellipse
  npoints = 250
  a <- seq(0, 2 * pi, length = npoints + 1)
  x <- hradius * cos(a)
  y <- vradius * sin(a)  
  return(data.frame(x = x, y = y))
}


N <- 250 # Assign size of the matrix

M <- matrix(rnorm(N * N), N, N) # Build the matrix

eigvals <- eigen(M)$values # Find the eigenvalues

eigDF <- data.frame("Real" = Re(eigvals), "Imaginary" = Im(eigvals)) # Build a dataframe

my_radius <- sqrt(N) # The radius of the circle is sqrt(N)

ellDF <- build_ellipse(my_radius, my_radius) # Dataframe to plot the ellipse

names(ellDF) <- c("Real", "Imaginary") # rename the columns

# plot the eigenvalues
p <- ggplot(eigDF, aes(x = Real, y = Imaginary))
p <- p +
  geom_point(shape = I(3)) +
  theme(legend.position = "none")

# now add the vertical and horizontal line
p <- p + geom_hline(aes(yintercept = 0))
p <- p + geom_vline(aes(xintercept = 0))

# finally, add the ellipse
p <- p + geom_polygon(data = ellDF, aes(x = Real, y = Imaginary, alpha = 1/20, fill = "red"))
p

ggsave("../results/girko.pdf", plot = p, width = 5,height = 5)
**********

Output (first 500 chars):

**********

**********
Errors:
**********
── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.4.4     ✔ tibble    3.3.0
✔ lubridate 1.9.4     ✔ tidyr     1.3.1
✔ purrr     1.0.4     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors
Error in grDevices::pdf(file = filename, ..., version = version) : 
  cannot open file '../results/girko.pdf'
Calls: ggsave -> dev -> <Anonymous>
Execution halted

**********
======================================================================
Script: vectorize_1.R

Contents:

**********
M <- matrix(runif(1000000), 1000, 1000)

SumAllElements <- function(M) {
    Dimensions <- dim(M)
    Tot <- 0
    for (i in 1:Dimensions[1]) {
        for (j in 1:Dimensions[2]) {
            Tot <- Tot + M[i,j]
        }
    }
    return (Tot)
}


print("Using loops, the time taken is:")
print(system.time(SumAllElements(M)))

print("Using the in-built vectorized function, the time taken is:")
print(system.time(sum(M))) 
**********

Output (first 500 chars):

**********
[1] "Using loops, the time taken is:"
   user  system elapsed 
  0.044   0.001   0.045 
[1] "Using the in-built vectorized function, the time taken is:"
   user  system elapsed 
  0.001   0.000   0.001 

**********
No errors.
======================================================================
Script: next.R

Contents:

**********
for (i in 1:10) {
  if ((i %% 2) == 0) # check if the number is odd
    next # pass to next iteration of loop 
  print(i)
}


plot
**********

Output (first 500 chars):

**********
[1] 1
[1] 3
[1] 5
[1] 7
[1] 9
function (x, y, ...) 
UseMethod("plot")
<bytecode: 0x6034f556fbe8>
<environment: namespace:base>

**********
No errors.
======================================================================
Script: preallocate.R

Contents:

**********
NoPreallocFun <- function(x) {
    a <- vector() # empty vector
    for (i in 1:x) {
        a <- c(a, i) # concatenate
        # print(a)
        # print(object.size(a))
    }
}

PreallocFun <- function(x) {
    a <- rep(NA, x) # pre-allocated vector
    for (i in 1:x) {
        a[i] <- i # assign
        # print(a)
        # print(object.size(a))
    }
}

print(system.time(NoPreallocFun(10000)))
print(system.time(PreallocFun(10000)))
**********

Output (first 500 chars):

**********
   user  system elapsed 
  0.066   0.012   0.077 
   user  system elapsed 
  0.002   0.000   0.003 

**********
No errors.
======================================================================
Script: florida.R

Contents:

**********
rm(list=ls())

library(tidyverse)

load("../data/key_west_annual_mean_temperature.RData")

# calculate p values
permutation <- function(df, number_of_permutation){
    cof_result <- vector(, number_of_permutation)
    for(i in 1:number_of_permutation) {
        cof_result[i]<- cor(df$Year, sample(df$Temp, nrow(df), replace = FALSE))
    }
    return(cof_result)
 }

calc_p_value <- function(sequential_cof, permutation_cof) {
    greater_than <- 0
    less_than <- 0
    for(i in 1:length(permutation_cof)) {
        if (permutation_cof[i] > sequential_cof) {
            greater_than <- greater_than + 1 
        } else { 
            less_than <- less_than + 1
        }
    }
    return(greater_than/less_than) 
}

sequential_cof <-cor(ats$Year, ats$Temp)

permutation_cof <- permutation(ats, 100000)

calc_p_value(sequential_cof, permutation_cof)



# Making a figure

(p <- ggplot(ats, aes(x = Year, y = Temp)) +
  geom_point(color = I("black"), size = I(2)) +
  geom_smooth(method = "lm", se = FALSE, linetype = "dashed", fullrange = TRUE) +
  labs(
    title = "Annual Temperature in Florida
    Between 1900 and 2000\n",
    x = "\nYear",
    y = "Temperature (°C)\n"
  ) +
  theme_bw() +
  theme(
    plot.title = element_text(size = 16, face = "bold", hjust = 0.5, 
                              margin = margin(b = 15)),
    axis.title = element_text(size = 12, face = "bold"),
    axis.text = element_text(size = 10),
    panel.grid.major = element_blank(),
    panel.grid.minor = element_blank(),
    plot.margin = margin(20, 20, 20, 20)
  ))


# Exporting that figure

ggsave("../results/temperature_plot.pdf", 
       plot = p, 
       width = 8, 
       height = 6, 
       device = "pdf")



**********

Output (first 500 chars):

**********
[1] 0

**********
Errors:
**********
── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.4.4     ✔ tibble    3.3.0
✔ lubridate 1.9.4     ✔ tidyr     1.3.1
✔ purrr     1.0.4     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors
`geom_smooth()` using formula = 'y ~ x'
Error in grDevices::pdf(file = filename, ..., version = version) : 
  cannot open file '../results/temperature_plot.pdf'
Calls: ggsave -> dev -> <Anonymous>
Execution halted

**********

======================================================================
FEEDBACK SUMMARY
======================================================================

Scripts tested: 53
Scripts successful: 40
Scripts with errors: 13
Warnings/Notes: 1

IMPORTANT DEBUGGING GUIDANCE:
------------------------------

Please review all warnings and errors, and your directory structure based on the above log.

Ask yourself: Why did I not get these warnings or errors on my machine when I tested my code?
Common reasons for environment differences:

• File paths: Your local machine may have different directory structures
• Dependencies: Missing packages or different versions
• File permissions: Scripts may not be executable on the testing server
• Case sensitivity: Linux systems are case-sensitive (your laptop may not be)
• Working directory: Scripts may assume they run from a specific location
• Input files: Required data files may be missing or in wrong locations

Debugging steps:
1. Test your code in a clean environment (fresh directory)
2. Check all file paths are relative and correct
3. Verify all required files are present and properly named
4. Test on a case-sensitive system if possible
5. Run your scripts from different directories to check robustness

Fix these issues and test again. Good debugging skills are essential for scientific computing!

